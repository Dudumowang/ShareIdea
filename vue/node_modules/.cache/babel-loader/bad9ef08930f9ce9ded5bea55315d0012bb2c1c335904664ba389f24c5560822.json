{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"AdminChangePassword\",\n  data() {\n    return {\n      id: '',\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: ''\n    };\n  },\n  methods: {\n    changeAdminPassword() {\n      if (this.newPassword === this.confirmPassword) {\n        console.log(this.id);\n        console.log(this.newPassword);\n        this.request.get(\"http://localhost:9090/admin/changePssword\", {\n          params: {\n            id: this.id,\n            oldPassword: this.oldPassword,\n            newPassword: this.newPassword\n          }\n        }).then(res => {\n          if (res.code === '200') {\n            this.$message.success(\"修改成功\");\n            //退回到登录页面\n            localStorage.removeItem(\"admin\");\n            this.$router.push(\"/AdminLogin\");\n          } else {\n            this.$message.error(res.msg);\n          }\n        });\n      } else {\n        this.$message.error(\"两次输入密码不一致\");\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AAqBA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;QACAC;QACAA;QACA;UACAC;YACAP;YACAC;YACAC;UACA;QACA;UACA;YACA;YACA;YACAM;YACA;UACA,OACA;YACA;UACA;QACA;MACA,OACA;QACA;MACA;IACA;EACA;AACA","names":["name","data","id","oldPassword","newPassword","confirmPassword","methods","changeAdminPassword","console","params","localStorage"],"sourceRoot":"src/views","sources":["AdminChangePassword.vue"],"sourcesContent":["<template>\r\n  <div style=\"width: 500px; padding: 20px; border: 1px solid #ccc\">\r\n    <el-form label-width=\"80px\" size=\"small\">\r\n\r\n      <el-form-item label=\"原密码\">\r\n        <el-input show-password v-model:label=\"oldPassword\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"新密码\">\r\n        <el-input show-password v-model:label=\"newPassword\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"确认密码\">\r\n        <el-input show-password v-model:label=\"confirmPassword\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"changeAdminPassword\">确 定</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"AdminChangePassword\",\r\n  data(){\r\n    return{\r\n      id:'',\r\n      oldPassword:'',\r\n      newPassword:'',\r\n      confirmPassword:''\r\n    }\r\n  },\r\n  methods :{\r\n    changeAdminPassword(){\r\n      if(this.newPassword===this.confirmPassword) {\r\n        console.log(this.id)\r\n        console.log(this.newPassword)\r\n        this.request.get(\"http://localhost:9090/admin/changePssword\", {\r\n          params: {\r\n            id: this.id,\r\n            oldPassword: this.oldPassword,\r\n            newPassword: this.newPassword\r\n          }\r\n        }).then(res => {\r\n          if(res.code==='200'){\r\n            this.$message.success(\"修改成功\")\r\n            //退回到登录页面\r\n            localStorage.removeItem(\"admin\")\r\n            this.$router.push(\"/AdminLogin\")\r\n          }\r\n          else{\r\n            this.$message.error(res.msg)\r\n          }\r\n        })\r\n      }\r\n      else{\r\n        this.$message.error(\"两次输入密码不一致\")\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}